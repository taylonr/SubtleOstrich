/*!
 * FullCalendar v1.5.4-final
 * http://arshaw.com/fullcalendar/
 *
 * Use fullcalendar.css for basic styling.
 * For event drag & drop, requires jQuery UI draggable.
 * For event resizing, requires jQuery UI resizable.
 *
 * (c) 2012 Adam Shaw
 * Dual licensed under the MIT and GPL licenses, located in
 * MIT-LICENSE.txt and GPL-LICENSE.txt respectively.
 *
 */
(function(t,e){function n(e){t.extend(!0,Me,e)}function r(n,r,i){function u(t){G?(S(),C(),z(),b(t)):f()}function f(){K=r.theme?"ui":"fc",n.addClass("fc"),r.isRTL&&n.addClass("fc-rtl"),r.theme&&n.addClass("ui-widget"),G=t("<div class='fc-content' style='position:relative'/>").prependTo(n),$=new a(Z,r),Q=$.render(),Q&&n.prepend(Q),m(r.defaultView),t(window).resize(x),p()||d()}function d(){setTimeout(function(){!te.start&&p()&&b()},0)}function h(){t(window).unbind("resize",x),$.destroy(),G.remove(),n.removeClass("fc fc-rtl ui-widget")}function g(){return 0!==se.offsetWidth}function p(){return 0!==t("body")[0].offsetWidth}function m(e){if(!te||e!=te.name){ue++,L();var n,r=te;r?((r.beforeHide||q)(),I(G,G.height()),r.element.hide()):I(G,1),G.css("overflow","hidden"),te=ce[e],te?te.element.show():te=ce[e]=new Ee[e](n=re=t("<div class='fc-view fc-view-"+e+"' style='position:absolute'/>").appendTo(G),Z),r&&$.deactivateButton(r.name),$.activateButton(e),b(),G.css("overflow",""),r&&I(G,1),n||(te.afterShow||q)(),ue--}}function b(t){if(g()){ue++,L(),ne===e&&S();var r=!1;!te.start||t||te.start>fe||fe>=te.end?(te.render(fe,t||0),E(!0),r=!0):te.sizeDirty?(te.clearEvents(),E(),r=!0):te.eventsDirty&&(te.clearEvents(),r=!0),te.sizeDirty=!1,te.eventsDirty=!1,T(r),ee=n.outerWidth(),$.updateTitle(te.title);var a=new Date;a>=te.start&&te.end>a?$.disableButton("today"):$.enableButton("today"),ue--,te.trigger("viewDisplay",se)}}function D(){C(),g()&&(S(),E(),L(),te.clearEvents(),te.renderEvents(de),te.sizeDirty=!1)}function C(){t.each(ce,function(t,e){e.sizeDirty=!0})}function S(){ne=r.contentHeight?r.contentHeight:r.height?r.height-(Q?Q.height():0)-A(G):Math.round(G.width()/Math.max(r.aspectRatio,.5))}function E(t){ue++,te.setHeight(ne,t),re&&(re.css("position","relative"),re=null),te.setWidth(G.width(),t),ue--}function x(){if(!ue)if(te.start){var t=++le;setTimeout(function(){t==le&&!ue&&g()&&ee!=(ee=n.outerWidth())&&(ue++,D(),te.trigger("windowResize",se),ue--)},200)}else d()}function T(t){!r.lazyFetching||oe(te.visStart,te.visEnd)?F():t&&R()}function F(){ie(te.visStart,te.visEnd)}function k(t){de=t,R()}function H(t){R(t)}function R(t){z(),g()&&(te.clearEvents(),te.renderEvents(de,t),te.eventsDirty=!1)}function z(){t.each(ce,function(t,e){e.eventsDirty=!0})}function N(t,n,r){te.select(t,n,r===e?!0:r)}function L(){te&&te.unselect()}function Y(){b(-1)}function W(){b(1)}function O(){s(fe,-1),b()}function _(){s(fe,1),b()}function B(){fe=new Date,b()}function j(t,e,n){t instanceof Date?fe=v(t):y(fe,t,e,n),b()}function P(t,n,r){t!==e&&s(fe,t),n!==e&&c(fe,n),r!==e&&l(fe,r),b()}function V(){return v(fe)}function J(){return te}function X(t,n){return n===e?r[t]:(("height"==t||"contentHeight"==t||"aspectRatio"==t)&&(r[t]=n,D()),e)}function U(t,n){return r[t]?r[t].apply(n||se,Array.prototype.slice.call(arguments,2)):e}var Z=this;Z.options=r,Z.render=u,Z.destroy=h,Z.refetchEvents=F,Z.reportEvents=k,Z.reportEventChange=H,Z.rerenderEvents=R,Z.changeView=m,Z.select=N,Z.unselect=L,Z.prev=Y,Z.next=W,Z.prevYear=O,Z.nextYear=_,Z.today=B,Z.gotoDate=j,Z.incrementDate=P,Z.formatDate=function(t,e){return w(t,e,r)},Z.formatDates=function(t,e,n){return M(t,e,n,r)},Z.getDate=V,Z.getView=J,Z.option=X,Z.trigger=U,o.call(Z,r,i);var $,Q,G,K,te,ee,ne,re,ae,oe=Z.isFetchNeeded,ie=Z.fetchEvents,se=n[0],ce={},le=0,ue=0,fe=new Date,de=[];y(fe,r.year,r.month,r.date),r.droppable&&t(document).bind("dragstart",function(e,n){var a=e.target,o=t(a);if(!o.parents(".fc").length){var i=r.dropAccept;(t.isFunction(i)?i.call(a,o):o.is(i))&&(ae=a,te.dragStart(ae,e,n))}}).bind("dragstop",function(t,e){ae&&(te.dragStop(ae,t,e),ae=null)})}function a(n,r){function a(){v=r.theme?"ui":"fc";var n=r.header;return n?h=t("<table class='fc-header' style='width:100%'/>").append(t("<tr/>").append(i("left")).append(i("center")).append(i("right"))):e}function o(){h.remove()}function i(e){var a=t("<td class='fc-header-"+e+"'/>"),o=r.header[e];return o&&t.each(o.split(" "),function(e){e>0&&a.append("<span class='fc-header-space'/>");var o;t.each(this.split(","),function(e,i){if("title"==i)a.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),o&&o.addClass(v+"-corner-right"),o=null;else{var s;if(n[i]?s=n[i]:Ee[i]&&(s=function(){u.removeClass(v+"-state-hover"),n.changeView(i)}),s){var c=r.theme?X(r.buttonIcons,i):null,l=X(r.buttonText,i),u=t("<span class='fc-button fc-button-"+i+" "+v+"-state-default'>"+"<span class='fc-button-inner'>"+"<span class='fc-button-content'>"+(c?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+c+"'/>"+"</span>":l)+"</span>"+"<span class='fc-button-effect'><span></span></span>"+"</span>"+"</span>");u&&(u.click(function(){u.hasClass(v+"-state-disabled")||s()}).mousedown(function(){u.not("."+v+"-state-active").not("."+v+"-state-disabled").addClass(v+"-state-down")}).mouseup(function(){u.removeClass(v+"-state-down")}).hover(function(){u.not("."+v+"-state-active").not("."+v+"-state-disabled").addClass(v+"-state-hover")},function(){u.removeClass(v+"-state-hover").removeClass(v+"-state-down")}).appendTo(a),o||u.addClass(v+"-corner-left"),o=u)}}}),o&&o.addClass(v+"-corner-right")}),a}function s(t){h.find("h2").html(t)}function c(t){h.find("span.fc-button-"+t).addClass(v+"-state-active")}function l(t){h.find("span.fc-button-"+t).removeClass(v+"-state-active")}function u(t){h.find("span.fc-button-"+t).addClass(v+"-state-disabled")}function f(t){h.find("span.fc-button-"+t).removeClass(v+"-state-disabled")}var d=this;d.render=a,d.destroy=o,d.updateTitle=s,d.activateButton=c,d.deactivateButton=l,d.disableButton=u,d.enableButton=f;var v,h=t([])}function o(n,r){function a(t,e){return!S||S>t||e>E}function o(t,e){S=t,E=e,L=[];var n=++R,r=H.length;z=r;for(var a=0;r>a;a++)i(H[a],n)}function i(t,e){s(t,function(n){if(e==R){if(n){for(var r=0;n.length>r;r++)n[r].source=t,b(n[r]);L=L.concat(n)}z--,z||F(L)}})}function s(r,a){var o,i,c=Se.sourceFetchers;for(o=0;c.length>o;o++){if(i=c[o](r,S,E,a),i===!0)return;if("object"==typeof i)return s(i,a),e}var l=r.events;if(l)t.isFunction(l)?(p(),l(v(S),v(E),function(t){a(t),y()})):t.isArray(l)?a(l):a();else{var u=r.url;if(u){var f=r.success,d=r.error,h=r.complete,g=t.extend({},r.data||{}),m=ee(r.startParam,n.startParam),b=ee(r.endParam,n.endParam);m&&(g[m]=Math.round(+S/1e3)),b&&(g[b]=Math.round(+E/1e3)),p(),t.ajax(t.extend({},xe,r,{data:g,success:function(e){e=e||[];var n=te(f,this,arguments);t.isArray(n)&&(e=n),a(e)},error:function(){te(d,this,arguments),a()},complete:function(){te(h,this,arguments),y()}}))}else a()}}function c(t){t=l(t),t&&(z++,i(t,R))}function l(n){return t.isFunction(n)||t.isArray(n)?n={events:n}:"string"==typeof n&&(n={url:n}),"object"==typeof n?(D(n),H.push(n),n):e}function u(e){H=t.grep(H,function(t){return!w(t,e)}),L=t.grep(L,function(t){return!w(t.source,e)}),F(L)}function f(t){var e,n,r=L.length,a=T().defaultEventEnd,o=t.start-t._start,i=t.end?t.end-(t._end||a(t)):0;for(e=0;r>e;e++)n=L[e],n._id==t._id&&n!=t&&(n.start=new Date(+n.start+o),n.end=t.end?n.end?new Date(+n.end+i):new Date(+a(n)+i):null,n.title=t.title,n.url=t.url,n.allDay=t.allDay,n.className=t.className,n.editable=t.editable,n.color=t.color,n.backgroudColor=t.backgroudColor,n.borderColor=t.borderColor,n.textColor=t.textColor,b(n));b(t),F(L)}function d(t,e){b(t),t.source||(e&&(k.events.push(t),t.source=k),L.push(t)),F(L)}function h(e){if(e){if(!t.isFunction(e)){var n=e+"";e=function(t){return t._id==n}}L=t.grep(L,e,!0);for(var r=0;H.length>r;r++)t.isArray(H[r].events)&&(H[r].events=t.grep(H[r].events,e,!0))}else{L=[];for(var r=0;H.length>r;r++)t.isArray(H[r].events)&&(H[r].events=[])}F(L)}function g(e){return t.isFunction(e)?t.grep(L,e):e?(e+="",t.grep(L,function(t){return t._id==e})):L}function p(){N++||x("loading",null,!0)}function y(){--N||x("loading",null,!1)}function b(t){var r=t.source||{},a=ee(r.ignoreTimezone,n.ignoreTimezone);t._id=t._id||(t.id===e?"_fc"+Te++:t.id+""),t.date&&(t.start||(t.start=t.date),delete t.date),t._start=v(t.start=m(t.start,a)),t.end=m(t.end,a),t.end&&t.end<=t.start&&(t.end=null),t._end=t.end?v(t.end):null,t.allDay===e&&(t.allDay=ee(r.allDayDefault,n.allDayDefault)),t.className?"string"==typeof t.className&&(t.className=t.className.split(/\s+/)):t.className=[]}function D(t){t.className?"string"==typeof t.className&&(t.className=t.className.split(/\s+/)):t.className=[];for(var e=Se.sourceNormalizers,n=0;e.length>n;n++)e[n](t)}function w(t,e){return t&&e&&M(t)==M(e)}function M(t){return("object"==typeof t?t.events||t.url:"")||t}var C=this;C.isFetchNeeded=a,C.fetchEvents=o,C.addEventSource=c,C.removeEventSource=u,C.updateEvent=f,C.renderEvent=d,C.removeEvents=h,C.clientEvents=g,C.normalizeEvent=b;for(var S,E,x=C.trigger,T=C.getView,F=C.reportEvents,k={events:[]},H=[k],R=0,z=0,N=0,L=[],Y=0;r.length>Y;Y++)l(r[Y])}function s(t,e,n){return t.setFullYear(t.getFullYear()+e),n||d(t),t}function c(t,e,n){if(+t){var r=t.getMonth()+e,a=v(t);for(a.setDate(1),a.setMonth(r),t.setMonth(r),n||d(t);t.getMonth()!=a.getMonth();)t.setDate(t.getDate()+(a>t?1:-1))}return t}function l(t,e,n){if(+t){var r=t.getDate()+e,a=v(t);a.setHours(9),a.setDate(r),t.setDate(r),n||d(t),u(t,a)}return t}function u(t,e){if(+t)for(;t.getDate()!=e.getDate();)t.setTime(+t+(e>t?1:-1)*He)}function f(t,e){return t.setMinutes(t.getMinutes()+e),t}function d(t){return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t}function v(t,e){return e?d(new Date(+t)):new Date(+t)}function h(){var t,e=0;do t=new Date(1970,e++,1);while(t.getHours());return t}function g(t,e,n){for(e=e||1;!t.getDay()||n&&1==t.getDay()||!n&&6==t.getDay();)l(t,e);return t}function p(t,e){return Math.round((v(t,!0)-v(e,!0))/ke)}function y(t,n,r,a){n!==e&&n!=t.getFullYear()&&(t.setDate(1),t.setMonth(0),t.setFullYear(n)),r!==e&&r!=t.getMonth()&&(t.setDate(1),t.setMonth(r)),a!==e&&t.setDate(a)}function m(t,n){return"object"==typeof t?t:"number"==typeof t?new Date(1e3*t):"string"==typeof t?t.match(/^\d+(\.\d+)?$/)?new Date(1e3*parseFloat(t)):(n===e&&(n=!0),b(t,n)||(t?new Date(t):null)):null}function b(t,e){var n=t.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!n)return null;var r=new Date(n[1],0,1);if(e||!n[13]){var a=new Date(n[1],0,1,9,0);n[3]&&(r.setMonth(n[3]-1),a.setMonth(n[3]-1)),n[5]&&(r.setDate(n[5]),a.setDate(n[5])),u(r,a),n[7]&&r.setHours(n[7]),n[8]&&r.setMinutes(n[8]),n[10]&&r.setSeconds(n[10]),n[12]&&r.setMilliseconds(1e3*Number("0."+n[12])),u(r,a)}else if(r.setUTCFullYear(n[1],n[3]?n[3]-1:0,n[5]||1),r.setUTCHours(n[7]||0,n[8]||0,n[10]||0,n[12]?1e3*Number("0."+n[12]):0),n[14]){var o=60*Number(n[16])+(n[18]?Number(n[18]):0);o*="-"==n[15]?1:-1,r=new Date(+r+1e3*60*o)}return r}function D(t){if("number"==typeof t)return 60*t;if("object"==typeof t)return 60*t.getHours()+t.getMinutes();var e=t.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(e){var n=parseInt(e[1],10);return e[3]&&(n%=12,"p"==e[3].toLowerCase().charAt(0)&&(n+=12)),60*n+(e[2]?parseInt(e[2],10):0)}}function w(t,e,n){return M(t,null,e,n)}function M(t,e,n,r){r=r||Me;var a,o,i,s,c=t,l=e,u=n.length,f="";for(a=0;u>a;a++)if(o=n.charAt(a),"'"==o){for(i=a+1;u>i;i++)if("'"==n.charAt(i)){c&&(f+=i==a+1?"'":n.substring(a+1,i),a=i);break}}else if("("==o){for(i=a+1;u>i;i++)if(")"==n.charAt(i)){var d=w(c,n.substring(a+1,i),r);parseInt(d.replace(/\D/,""),10)&&(f+=d),a=i;break}}else if("["==o){for(i=a+1;u>i;i++)if("]"==n.charAt(i)){var v=n.substring(a+1,i),d=w(c,v,r);d!=w(l,v,r)&&(f+=d),a=i;break}}else if("{"==o)c=e,l=t;else if("}"==o)c=t,l=e;else{for(i=u;i>a;i--)if(s=ze[n.substring(a,i)]){c&&(f+=s(c,r)),a=i-1;break}i==a&&c&&(f+=o)}return f}function C(t){return t.end?S(t.end,t.allDay):l(v(t.start),1)}function S(t,e){return t=v(t),e||t.getHours()||t.getMinutes()?l(t,1):d(t)}function E(t,e){return 100*(e.msLength-t.msLength)+(t.event.start-e.event.start)}function x(t,e){return t.end>e.start&&t.start<e.end}function T(t,e,n,r){var a,o,i,s,c,l,u,f,d=[],h=t.length;for(a=0;h>a;a++)o=t[a],i=o.start,s=e[a],s>n&&r>i&&(n>i?(c=v(n),u=!1):(c=i,u=!0),s>r?(l=v(r),f=!1):(l=s,f=!0),d.push({event:o,start:c,end:l,isStart:u,isEnd:f,msLength:l-c}));return d.sort(E)}function F(t){var e,n,r,a,o,i=[],s=t.length;for(e=0;s>e;e++){for(n=t[e],r=0;;){if(a=!1,i[r])for(o=0;i[r].length>o;o++)if(x(i[r][o],n)){a=!0;break}if(!a)break;r++}i[r]?i[r].push(n):i[r]=[n]}return i}function H(n,r,a){n.unbind("mouseover").mouseover(function(n){for(var o,i,s,c=n.target;c!=this;)o=c,c=c.parentNode;(i=o._fci)!==e&&(o._fci=e,s=r[i],a(s.event,s.element,s),t(n.target).trigger(n)),n.stopPropagation()})}function R(e,n,r){for(var a,o=0;e.length>o;o++)a=t(e[o]),a.width(Math.max(0,n-N(a,r)))}function z(e,n,r){for(var a,o=0;e.length>o;o++)a=t(e[o]),a.height(Math.max(0,n-A(a,r)))}function N(t,e){return L(t)+W(t)+(e?Y(t):0)}function L(e){return(parseFloat(t.css(e[0],"paddingLeft",!0))||0)+(parseFloat(t.css(e[0],"paddingRight",!0))||0)}function Y(e){return(parseFloat(t.css(e[0],"marginLeft",!0))||0)+(parseFloat(t.css(e[0],"marginRight",!0))||0)}function W(e){return(parseFloat(t.css(e[0],"borderLeftWidth",!0))||0)+(parseFloat(t.css(e[0],"borderRightWidth",!0))||0)}function A(t,e){return O(t)+B(t)+(e?_(t):0)}function O(e){return(parseFloat(t.css(e[0],"paddingTop",!0))||0)+(parseFloat(t.css(e[0],"paddingBottom",!0))||0)}function _(e){return(parseFloat(t.css(e[0],"marginTop",!0))||0)+(parseFloat(t.css(e[0],"marginBottom",!0))||0)}function B(e){return(parseFloat(t.css(e[0],"borderTopWidth",!0))||0)+(parseFloat(t.css(e[0],"borderBottomWidth",!0))||0)}function I(t,e){e="number"==typeof e?e+"px":e,t.each(function(t,n){n.style.cssText+=";min-height:"+e+";_height:"+e})}function q(){}function P(t,e){return t-e}function V(t){return Math.max.apply(Math,t)}function J(t){return(10>t?"0":"")+t}function X(t,n){if(t[n]!==e)return t[n];for(var r,a=n.split(/(?=[A-Z])/),o=a.length-1;o>=0;o--)if(r=t[a[o].toLowerCase()],r!==e)return r;return t[""]}function U(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Z(t){return t.id+"/"+t.className+"/"+t.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/gi,"")}function $(t){t.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function Q(t){t.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function G(t,e){t.each(function(t,n){n.className=n.className.replace(/^fc-\w*/,"fc-"+Fe[e.getDay()])})}function K(t,e){var n=t.source||{},r=t.color,a=n.color,o=e("eventColor"),i=t.backgroundColor||r||n.backgroundColor||a||e("eventBackgroundColor")||o,s=t.borderColor||r||n.borderColor||a||e("eventBorderColor")||o,c=t.textColor||n.textColor||e("eventTextColor"),l=[];return i&&l.push("background-color:"+i),s&&l.push("border-color:"+s),c&&l.push("color:"+c),l.join(";")}function te(e,n,r){if(t.isFunction(e)&&(e=[e]),e){var a,o;for(a=0;e.length>a;a++)o=e[a].apply(n,r)||o;return o}}function ee(){for(var t=0;arguments.length>t;t++)if(arguments[t]!==e)return arguments[t]}function ne(t,e){function n(t,e){e&&(c(t,e),t.setDate(1));var n=v(t,!0);n.setDate(1);var s=c(v(n),1),u=v(n),f=v(s),d=a("firstDay"),h=a("weekends")?0:1;h&&(g(u),g(f,-1,!0)),l(u,-((u.getDay()-Math.max(d,h)+7)%7)),l(f,(7-f.getDay()+Math.max(d,h))%7);var p=Math.round((f-u)/(7*ke));"fixed"==a("weekMode")&&(l(f,7*(6-p)),p=6),r.title=i(n,a("titleFormat")),r.start=n,r.end=s,r.visStart=u,r.visEnd=f,o(6,p,h?5:7,!0)}var r=this;r.render=n,se.call(r,t,e,"month");var a=r.opt,o=r.renderBasic,i=e.formatDate}function re(t,e){function n(t,e){e&&(r.curYear=s(t,e));var n=v(t,!0),c=a("firstMonth")||0;n.setFullYear(n.getFullYear(),c,1);var u=v(t);u.setFullYear(0|u.getFullYear()+(c+12)/12,(c+11)%12,31);var f=v(n),d=a("firstDay"),h=v(u),g=a("weekends")?0:1;l(f,-((f.getDay()-Math.max(d,g)+7)%7)),l(h,(7-h.getDay()+Math.max(d,g))%7),colAndRow="3x4",r.title=i(n,a("titleFormat")),r.start=n,r.end=u,r.visStart=f,r.visEnd=h,o(colAndRow,6,g?5:7,!0)}var r=this;r.render=n,ae.call(r,t,e,"year");var a=r.opt,o=r.renderYear,i=e.formatDate}function ae(e,n,r){function a(t,e,n,r){re=e,ae=n,o();var a=!X;a?s(t,r):Ee(),c(a)}function o(){le=Ce("isRTL"),le?(ue=-1,fe=ae-1):(ue=1,fe=0),de=Ce("firstDay"),ve=Ce("firstMonth")||0,ge=Ce("weekends")?0:1,De=Ce("theme")?"ui":"fc",Me=Ce("columnFormat")}function s(r,a){var o,i,s,c,u=De+"-widget-content",f=v(J.start),d=parseInt(r);re=0;var h=["S","M","T","W","T","F","S"],p=["January","February","March","April","May","June","July","August","September","October","November","December"];o="<table class='fc-border-separate fc-year-main-table' style='width:100%'><tr >";for(var m=0;12>m;m++){var b=(m+ve)%12,D=0|f.getFullYear()+(m+ve)/12;for(f.setFullYear(D,b,1),ge&&g(f),f.setFullYear(D,b,1-f.getDay()+de),0==m%d&&m>0&&(o+="</tr><tr>"),o+="<td class='fc-year-monthly-td'>",o+="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr><td colspan='7' class='fc-year-monthly-header' /><a data-year='"+f.getFullYear()+"' data-month='"+b+"' class='fc-year-monthly-name' href=\"#\">"+p[b]+"</a></td></tr>"+"<tr>",i=de;ae+de>i;i++)o+="<th class='fc-year-month-weekly-head'>"+h[i%7]+"</th>";for(o+="</tr></thead><tbody>",Re[b]=0,i=0;6>i;i++)if(ge&&g(f),f.getMonth()!=(b+1)%12){for(Re[b]++,re++,o+="<tr class='fc-week"+i+"'>",s=0;ae>s;s++)c=f.getMonth()==b?ke(f,"-yyyy-MM-dd"):"",o+="<td class='fc- "+u+" fc-day"+c+"'>"+"<div>"+(a?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content' style='min-height:20px'>"+"<div style='position:relative;'></div>"+"</div>"+"</div>"+"</td>",l(f,1);ge&&g(f),o+="</tr>"}o+="</tbody></table>",o+="</td>"}o+="</tr></table>",X=t(o).appendTo(e),head=X.find("thead"),headCells=head.find("th.fc-year-month-weekly-head"),Z=X.find("table"),U=X.find("table tbody tr"),G=X.find("tbody").find("td").not(".fc-year-monthly-td"),bodyFirstCells=G.filter(":first-child"),K=U.eq(0).find("div.fc-day-content div"),Q(head.add(head.find("tr"))),Q(U),X.find(".fc-year-monthly-name").click(function(){n.gotoDate(t(this).attr("data-year"),t(this).attr("data-month"),1),n.changeView("month")}),y(G),te=t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(e)}function c(){J.start.getFullYear();var e,n=d(new Date);Z.each(function(r,a){J.curYear||(J.curYear=J.start),He[r]=[0,0];var o=v(J.curYear),i=(r+ve)%12,s=0|o.getFullYear()+(r+ve)/12;o.setFullYear(s,i,1),ge&&g(o),o.setFullYear(s,i,1-o.getDay()+de),t(a).find("tbody > tr").each(function(a,s){ge&&g(o),t(s).find("td").each(function(a,s){var c;e=t(s),o.getMonth()==i?(e.removeClass("fc-other-month"),c=ke(o,"-yyyy-MM-dd")):(e.addClass("fc-other-month"),c="",r>o.getMonth()||0==r&&11==o.getMonth()?He[r][0]++:He[r][1]++),+o==+n&&o.getMonth()==r?e.addClass(De+"-state-highlight fc-today"):e.removeClass(De+"-state-highlight fc-today");var u=e.find("div.fc-day-number");u.text(o.getDate()),u.parent().parent().attr("class","fc-widget-content fc-day"+c),l(o,1)}),ge&&g(o)})}),U.filter(".fc-year-have-event").removeClass("fc-year-have-event")}function u(){}function f(){}function h(e){var n=[];v(J.visStart);var r=t.map(e,C),a=0;return Z.each(function(o,i){var s=v(J.curYear),c=(o+ve)%12,u=0|s.getFullYear()+(o+ve)/12;s.setFullYear(u,c,1),ge&&g(s),s.setFullYear(u,c,1-s.getDay()+de),t(i).find("tbody > tr").each(function(){ge&&g(s);for(var t=v(s),i=ae;t.getMonth()!=c;)l(t,1),i--;var u=v(t);for(o=0;i>o&&(l(u,1),!(u.getMonth()>t.getMonth()));o++);for(rowSeg=F(T(e,r,t,u)),j=0;rowSeg.length>j;j++)for(level=rowSeg[j],k=0;level.length>k;k++)seg=level[k],seg.row=a,seg.level=j,n.push(seg);a+=1,l(s,5),ge&&g(s)})}),n}function y(t){t.click(m).mousedown(Fe)}function m(t){if(!Ce("selectable")){var e=this.className.match(/fc\-day\-(\d+)\-(\d+)\-(\d+)/),n=new Date(e[1],e[2],e[3]);Se("dayClick",this,n,!0,t)}}function b(e,n,r){r&&oe.build(),v(J.visStart);var a=0;Z.each(function(r,o){var s=v(J.curYear),c=(r+ve)%12,u=0|s.getFullYear()+(r+ve)/12;s.setFullYear(u,c,1),ge&&g(s),s.setFullYear(u,c,1-s.getDay()+de),t(o).find("tbody > tr").each(function(){ge&&g(s);for(var t=ae,r=v(s);r.getMonth()!=c;)l(r,1),t--;var o=v(r);for(i=0;t>i&&(l(o,1),!(o.getMonth()>r.getMonth()));i++);var u=new Date(Math.max(r,e)),f=new Date(Math.min(o,n));if(f>u){var d,h;le?(d=p(f,s)*ue+fe+1,h=p(u,s)*ue+fe+1):(d=p(u,s),h=p(f,s)),y(D(a,d,a,h-1))}a+=1,l(s,5),ge&&g(s)})})}function D(t,n,r,a){var o=W(n,t);n=o[0],t=o[1],o=W(a,r),a=o[0],r=o[1];var i=oe.rect(t,n,r,a,e);return xe(i,e)}function w(t){var e,n=t.length,r=[];for(e=0;n>e;e++)r[e]=t[e][0].offsetLeft-t[0][0].offsetLeft;return r}function M(t){return v(t)}function S(t,e){b(t,l(v(e),1),!0)}function E(){Te()}function x(t,e,n){var r=_(t),a=G[r.row*ae+r.col];Se("dayClick",a,t,e,n)}function H(t,e){ie.start(function(t){Te(),t&&D(t.row,t.col,t.row,t.col)},e)}function R(t,e,n){var r=ie.stop();if(Te(),r){var a=B(r);Se("drop",t,a,!0,e,n)}}function z(t,e,n,r){var a=0|e.row/5,o=0|t.row/5,i=0;if(o>=a)for(var s=a;o>s;s++)He[s][1]>0&&(i+=7);else for(var s=a;s>=o;s--)He[s][0]>0&&(i-=7);return 7*n+r*(Ce("isRTL")?-1:1)-i}function N(t){return v(t.start)}function L(t){for(var e=0;12>e;e+=3){var n=Re[e]+Re[e+1]+Re[e+2];if(!(t>=n))break;t-=n}return t}function Y(t,e){return e+=L(5*(0|t/ae)),t%=ae,[t,e]}function W(t,e){t+=(0|e/5)*ae%15;for(var n=0,r=0;12>r;r+=3){var a=Re[r]+Re[r+1]+Re[r+2];if(!(e>=a))break;e-=a,n+=a}return e=e%5+n,[t,e]}function A(t){return se.left(t)}function O(t){return se.right(t)}function _(t){return{row:Math.floor(p(t,J.visStart)/7),col:q(t.getDay())}}function B(t){return I(t.row,t.col)}function I(t,e){return l(v(J.visStart),7*t+e*ue+fe)}function q(t){return(t-Math.max(de,ge)+ae)%ae*ue+fe}function P(t){return U.eq(t)}function V(){return{left:0,right:ee}}var J=this;J.renderYear=a,J.setHeight=u,J.setWidth=f,J.renderDayOverlay=b,J.defaultSelectionEnd=M,J.renderSelection=S,J.clearSelection=E,J.reportDayClick=x,J.dragStart=H,J.dragStop=R,J.defaultEventEnd=N,J.getHoverListener=function(){return ie},J.colContentLeft=A,J.colContentRight=O,J.dayOfWeekCol=q,J.dateCell=_,J.cellDate=B,J.cellIsAllDay=function(){return!0},J.allDayRow=P,J.allDayBounds=V,J.getRowCnt=function(){return re},J.getColCnt=function(){return ae},J.getColWidth=function(){return ne},J.getBodyRows=function(){return U},J.getDaySegmentContainer=function(){return te},J.getRowLefts=w,J.gridToView=Y,he.call(J,e,n,r),ye.call(J),pe.call(J),ce.call(J),J.compileDaySegs=h,J.calculateDayDelta=z;var X,U,Z,G,K,te,ee,ne,re,ae,oe,ie,se,le,ue,fe,de,ve,ge,De,Me,Ce=J.opt,Se=J.trigger,Ee=J.clearEvents,xe=J.renderOverlay,Te=J.clearOverlays,Fe=J.daySelectionMousedown,ke=n.formatDate,He=[],Re=[];$(e.addClass("fc-grid")),oe=new me(function(e,n){var r,a,o;headCells.each(function(e,i){r=t(i),a=r.offset().left,o=[a,a+r.outerWidth()],n[e]=o}),U.each(function(n,i){re>n&&(r=t(i),a=r.offset().top,o=[a,a+r.outerHeight()],e[n]=o)})},function(t,e){return J.gridToView(t,e)}),ie=new be(oe),se=new we(function(t){return K.eq(t)})}function oe(t,e){function n(t,e){e&&l(t,7*e);var n=l(v(t),-((t.getDay()-a("firstDay")+7)%7)),s=l(v(n),7),c=v(n),u=v(s),f=a("weekends");f||(g(c),g(u,-1,!0)),r.title=i(c,l(v(u),-1),a("titleFormat")),r.start=n,r.end=s,r.visStart=c,r.visEnd=u,o(1,1,f?7:5,!1)}var r=this;r.render=n,se.call(r,t,e,"basicWeek");var a=r.opt,o=r.renderBasic,i=e.formatDates}function ie(t,e){function n(t,e){e&&(l(t,e),a("weekends")||g(t,0>e?-1:1)),r.title=i(t,a("titleFormat")),r.start=r.visStart=v(t,!0),r.end=r.visEnd=l(v(r.start),1),o(1,1,1,!1)}var r=this;r.render=n,se.call(r,t,e,"basicDay");var a=r.opt,o=r.renderBasic,i=e.formatDate}function se(e,n,r){function a(t,e,n,r){Z=e,K=n,o();var a=!_;a?i(t,r):ve(),s(a)}function o(){re=fe("isRTL"),re?(ae=-1,oe=K-1):(ae=1,oe=0),ie=fe("firstDay"),se=fe("weekends")?0:1,le=fe("theme")?"ui":"fc",ue=fe("columnFormat")}function i(n,r){var a,o,i,s,c=le+"-widget-header",l=le+"-widget-content";for(a="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>",o=0;K>o;o++)a+="<th class='fc- "+c+"'/>";for(a+="</tr></thead><tbody>",o=0;n>o;o++){for(a+="<tr class='fc-week"+o+"'>",i=0;K>i;i++)a+="<td class='fc- "+l+" fc-day"+(o*K+i)+"'>"+"<div>"+(r?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'>"+"<div style='position:relative'>&nbsp;</div>"+"</div>"+"</div>"+"</td>";a+="</tr>"}a+="</tbody></table>",s=t(a).appendTo(e),W=s.find("thead"),O=W.find("th"),_=s.find("tbody"),B=_.find("tr"),j=_.find("td"),q=j.filter(":first-child"),P=B.eq(0).find("div.fc-day-content div"),Q(W.add(W.find("tr"))),Q(B),B.eq(0).addClass("fc-first"),f(j),V=t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(e)}function s(e){var n,r,a,o=e||1==Z,i=Y.start.getMonth(),s=d(new Date);o&&O.each(function(e,a){n=t(a),r=H(e),n.html(Ce(r,ue)),G(n,r)}),j.each(function(e,a){n=t(a),r=H(e),r.getMonth()==i?n.removeClass("fc-other-month"):n.addClass("fc-other-month"),+r==+s?n.addClass(le+"-state-highlight fc-today"):n.removeClass(le+"-state-highlight fc-today"),n.find("div.fc-day-number").text(r.getDate()),o&&G(n,r)}),B.each(function(e,n){a=t(n),Z>e?(a.show(),e==Z-1?a.addClass("fc-last"):a.removeClass("fc-last")):a.hide()})}function c(e){X=e;var n,r,a,o=X-W.height();"variable"==fe("weekMode")?n=r=Math.floor(o/(1==Z?2:6)):(n=Math.floor(o/Z),r=o-n*(Z-1)),q.each(function(e,o){Z>e&&(a=t(o),I(a.find("> div"),(e==Z-1?r:n)-A(a)))})}function u(t){J=t,ne.clear(),U=Math.floor(J/K),R(O.slice(0,-1),U)}function f(t){t.click(h).mousedown(Me)}function h(t){if(!fe("selectable")){var e=parseInt(this.className.match(/fc\-day(\d+)/)[1]),n=H(e);de("dayClick",this,n,!0,t)}}function g(t,e,n){n&&te.build();for(var r=v(Y.visStart),a=l(v(r),K),o=0;Z>o;o++){var i=new Date(Math.max(r,t)),s=new Date(Math.min(a,e));if(s>i){var c,u;re?(c=p(s,r)*ae+oe+1,u=p(i,r)*ae+oe+1):(c=p(i,r),u=p(s,r)),f(y(o,c,o,u-1))}l(r,7),l(a,7)}}function y(t,n,r,a){var o=te.rect(t,n,r,a,e);return ge(o,e)}function m(t){return v(t)}function b(t,e){g(t,l(v(e),1),!0)}function D(){De()}function w(t,e,n){var r=T(t),a=j[r.row*K+r.col];de("dayClick",a,t,e,n)}function M(t,e){ee.start(function(t){De(),t&&y(t.row,t.col,t.row,t.col)},e)}function C(t,e,n){var r=ee.stop();if(De(),r){var a=F(r);de("drop",t,a,!0,e,n)}}function S(t){return v(t.start)}function E(t){return ne.left(t)}function x(t){return ne.right(t)}function T(t){return{row:Math.floor(p(t,Y.visStart)/7),col:z(t.getDay())}}function F(t){return k(t.row,t.col)}function k(t,e){return l(v(Y.visStart),7*t+e*ae+oe)}function H(t){return k(Math.floor(t/K),t%K)}function z(t){return(t-Math.max(ie,se)+K)%K*ae+oe}function N(t){return B.eq(t)}function L(){return{left:0,right:J}}var Y=this;Y.renderBasic=a,Y.setHeight=c,Y.setWidth=u,Y.renderDayOverlay=g,Y.defaultSelectionEnd=m,Y.renderSelection=b,Y.clearSelection=D,Y.reportDayClick=w,Y.dragStart=M,Y.dragStop=C,Y.defaultEventEnd=S,Y.getHoverListener=function(){return ee},Y.colContentLeft=E,Y.colContentRight=x,Y.dayOfWeekCol=z,Y.dateCell=T,Y.cellDate=F,Y.cellIsAllDay=function(){return!0},Y.allDayRow=N,Y.allDayBounds=L,Y.getRowCnt=function(){return Z},Y.getColCnt=function(){return K},Y.getColWidth=function(){return U},Y.getDaySegmentContainer=function(){return V},he.call(Y,e,n,r),ye.call(Y),pe.call(Y),ce.call(Y);var W,O,_,B,j,q,P,V,J,X,U,Z,K,te,ee,ne,re,ae,oe,ie,se,le,ue,fe=Y.opt,de=Y.trigger,ve=Y.clearEvents,ge=Y.renderOverlay,De=Y.clearOverlays,Me=Y.daySelectionMousedown,Ce=n.formatDate;$(e.addClass("fc-grid")),te=new me(function(e,n){var r,a,o;O.each(function(e,i){r=t(i),a=r.offset().left,e&&(o[1]=a),o=[a],n[e]=o}),o[1]=a+r.outerWidth(),B.each(function(n,i){Z>n&&(r=t(i),a=r.offset().top,n&&(o[1]=a),o=[a],e[n]=o)}),o[1]=a+r.outerHeight()}),ee=new be(te),ne=new we(function(t){return P.eq(t)})}function ce(){function e(t,e){h(t),k(s.compileDaySegs(t),e)}function n(){g(),D().empty()}function r(e){var n,r,a,o,i,c,u=E(),f=x(),d=v(s.visStart),h=l(v(d),f),g=t.map(e,C),p=[];for(n=0;u>n;n++){for(r=F(T(e,g,d,h)),a=0;r.length>a;a++)for(o=r[a],i=0;o.length>i;i++)c=o[i],c.row=n,c.level=a,p.push(c);l(d,7),l(h,7)}return p}function a(t,e,n){f(t)&&i(t,e),n.isEnd&&d(t)&&H(t,e,n),p(t,e)}function o(t,e,n,r){return 7*n+r*(c("isRTL")?-1:1)}function i(t,e){var n,r=w();e.draggable({zIndex:9,delay:50,opacity:c("dragOpacity"),revertDuration:c("dragRevertDuration"),start:function(a,o){u("eventDragStart",e,t,a,o),m(t,e),r.start(function(r,a,o,i){e.draggable("option","revert",!r||!o&&!i),S(),r?(n=s.calculateDayDelta(r,a,o,i),M(l(v(t.start),n),l(C(t),n))):n=0},a,"drag")},stop:function(a,o){r.stop(),S(),u("eventDragStop",e,t,a,o),n?b(this,t,n,0,t.allDay,a,o):(e.css("filter",""),y(t,e))}})}var s=this;s.renderEvents=e,s.compileDaySegs=r,s.clearEvents=n,s.bindDaySeg=a,s.calculateDayDelta=o,ge.call(s);var c=s.opt,u=s.trigger,f=s.isEventDraggable,d=s.isEventResizable,h=s.reportEvents,g=s.reportEventClear,p=s.eventElementHandlers,y=s.showEvents,m=s.hideEvents,b=s.eventDrop,D=s.getDaySegmentContainer,w=s.getHoverListener,M=s.renderDayOverlay,S=s.clearOverlays,E=s.getRowCnt,x=s.getColCnt,k=s.renderDaySegs,H=s.resizableDayEvent}function le(t,e){function n(t,e){e&&l(t,7*e);var n=l(v(t),-((t.getDay()-a("firstDay")+7)%7)),s=l(v(n),7),c=v(n),u=v(s),f=a("weekends");f||(g(c),g(u,-1,!0)),r.title=i(c,l(v(u),-1),a("titleFormat")),r.start=n,r.end=s,r.visStart=c,r.visEnd=u,o(f?7:5)}var r=this;r.render=n,fe.call(r,t,e,"agendaWeek");var a=r.opt,o=r.renderAgenda,i=e.formatDates}function ue(t,e){function n(t,e){e&&(l(t,e),a("weekends")||g(t,0>e?-1:1));var n=v(t,!0),s=l(v(n),1);r.title=i(t,a("titleFormat")),r.start=r.visStart=n,r.end=r.visEnd=s,o(1)}var r=this;r.render=n,fe.call(r,t,e,"agendaDay");var a=r.opt,o=r.renderAgenda,i=e.formatDate}function fe(n,r,a){function o(t){Le=t,i(),te?$e():s(),c()}function i(){_e=Ue("theme")?"ui":"fc",Ie=Ue("weekends")?0:1,Be=Ue("firstDay"),(je=Ue("isRTL"))?(qe=-1,Pe=Le-1):(qe=1,Pe=0),Ve=D(Ue("minTime")),Je=D(Ue("maxTime")),Xe=Ue("columnFormat")}function s(){var e,r,a,o,i,s=_e+"-widget-header",c=_e+"-widget-content",l=0==Ue("slotMinutes")%15;for(e="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+s+"'>&nbsp;</th>",r=0;Le>r;r++)e+="<th class='fc- fc-col"+r+" "+s+"'/>";for(e+="<th class='fc-agenda-gutter "+s+"'>&nbsp;</th>"+"</tr>"+"</thead>"+"<tbody>"+"<tr>"+"<th class='fc-agenda-axis "+s+"'>&nbsp;</th>",r=0;Le>r;r++)e+="<td class='fc- fc-col"+r+" "+c+"'>"+"<div>"+"<div class='fc-day-content'>"+"<div style='position:relative'>&nbsp;</div>"+"</div>"+"</div>"+"</td>";for(e+="<td class='fc-agenda-gutter "+c+"'>&nbsp;</td>"+"</tr>"+"</tbody>"+"</table>",te=t(e).appendTo(n),ee=te.find("thead"),ne=ee.find("th").slice(1,-1),re=te.find("tbody"),ae=re.find("td").slice(0,-1),oe=ae.find("div.fc-day-content div"),ie=ae.eq(0),se=ie.find("> div"),Q(ee.add(ee.find("tr"))),Q(re.add(re.find("tr"))),Se=ee.find("th:first"),Ee=te.find(".fc-agenda-gutter"),ce=t("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(n),Ue("allDaySlot")?(le=t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ce),e="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+s+" fc-agenda-axis'>"+Ue("allDayText")+"</th>"+"<td>"+"<div class='fc-day-content'><div style='position:relative'/></div>"+"</td>"+"<th class='"+s+" fc-agenda-gutter'>&nbsp;</th>"+"</tr>"+"</table>",ue=t(e).appendTo(ce),fe=ue.find("tr"),w(fe.find("td")),Se=Se.add(ue.find("th:first")),Ee=Ee.add(ue.find("th.fc-agenda-gutter")),ce.append("<div class='fc-agenda-divider "+s+"'>"+"<div class='fc-agenda-divider-inner'/>"+"</div>")):le=t([]),ve=t("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ce),ge=t("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(ve),De=t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ge),e="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",a=h(),o=f(v(a),Je),f(a,Ve),Ye=0,r=0;o>a;r++)i=a.getMinutes(),e+="<tr class='fc-slot"+r+" "+(i?"fc-minor":"")+"'>"+"<th class='fc-agenda-axis "+s+"'>"+(l&&i?"&nbsp;":rn(a,Ue("axisFormat")))+"</th>"+"<td class='"+c+"'>"+"<div style='position:relative'>&nbsp;</div>"+"</td>"+"</tr>",f(a,Ue("slotMinutes")),Ye++;
e+="</tbody></table>",Me=t(e).appendTo(ge),Ce=Me.find("div:first"),M(Me.find("td")),Se=Se.add(Me.find("th:first"))}function c(){var t,e,n,r,a=d(new Date);for(t=0;Le>t;t++)r=N(t),e=ne.eq(t),e.html(rn(r,Xe)),n=ae.eq(t),+r==+a?n.addClass(_e+"-state-highlight fc-today"):n.removeClass(_e+"-state-highlight fc-today"),G(e.add(n),r)}function u(t,n){t===e&&(t=Fe),Fe=t,an={};var r=re.position().top,a=ve.position().top,o=Math.min(t-r,Me.height()+a+1);se.height(o-A(ie)),ce.css("top",r),ve.height(o-a-1),ze=Ce.height()+1,n&&y()}function g(e){Te=e,Oe.clear(),ke=0,R(Se.width("").each(function(e,n){ke=Math.max(ke,t(n).outerWidth())}),ke);var n=ve[0].clientWidth;Re=ve.width()-n,Re?(R(Ee,Re),Ee.show().prev().removeClass("fc-last")):Ee.hide().prev().addClass("fc-last"),He=Math.floor((n-ke)/Le),R(ne.slice(0,-1),He)}function y(){function t(){ve.scrollTop(r)}var e=h(),n=v(e);n.setHours(Ue("firstHour"));var r=W(e,n)+1;t(),setTimeout(t,0)}function m(){Ne=ve.scrollTop()}function b(){ve.scrollTop(Ne)}function w(t){t.click(C).mousedown(en)}function M(t){t.click(C).mousedown(J)}function C(t){if(!Ue("selectable")){var e=Math.min(Le-1,Math.floor((t.pageX-te.offset().left-ke)/He)),n=N(e),r=this.parentNode.className.match(/fc-slot(\d+)/);if(r){var a=parseInt(r[1])*Ue("slotMinutes"),o=Math.floor(a/60);n.setHours(o),n.setMinutes(a%60+Ve),Ze("dayClick",ae[e],n,!1,t)}else Ze("dayClick",ae[e],n,!0,t)}}function S(t,e,n){n&&We.build();var r,a,o=v(K.visStart);je?(r=p(e,o)*qe+Pe+1,a=p(t,o)*qe+Pe+1):(r=p(t,o),a=p(e,o)),r=Math.max(0,r),a=Math.min(Le,a),a>r&&w(E(0,r,0,a-1))}function E(t,e,n,r){var a=We.rect(t,e,n,r,ce);return Qe(a,ce)}function x(t,e){for(var n=v(K.visStart),r=l(v(n),1),a=0;Le>a;a++){var o=new Date(Math.max(n,t)),i=new Date(Math.min(r,e));if(i>o){var s=a*qe+Pe,c=We.rect(0,s,0,s,ge),u=W(n,o),f=W(n,i);c.top=u,c.height=f-u,M(Qe(c,ge))}l(n,1),l(r,1)}}function T(t){return Oe.left(t)}function F(t){return Oe.right(t)}function k(t){return{row:Math.floor(p(t,K.visStart)/7),col:Y(t.getDay())}}function H(t){var e=N(t.col),n=t.row;return Ue("allDaySlot")&&n--,n>=0&&f(e,Ve+n*Ue("slotMinutes")),e}function N(t){return l(v(K.visStart),t*qe+Pe)}function L(t){return Ue("allDaySlot")&&!t.row}function Y(t){return(t-Math.max(Be,Ie)+Le)%Le*qe+Pe}function W(t,n){if(t=v(t,!0),f(v(t),Ve)>n)return 0;if(n>=f(v(t),Je))return Me.height();var r=Ue("slotMinutes"),a=60*n.getHours()+n.getMinutes()-Ve,o=Math.floor(a/r),i=an[o];return i===e&&(i=an[o]=Me.find("tr:eq("+o+") td div")[0].offsetTop),Math.max(0,Math.round(i-1+ze*(a%r/r)))}function O(){return{left:ke,right:Te-Re}}function _(){return fe}function B(t){var e=v(t.start);return t.allDay?e:f(e,Ue("defaultEventMinutes"))}function I(t,e){return e?v(t):f(v(t),Ue("slotMinutes"))}function j(t,e,n){n?Ue("allDaySlot")&&S(t,l(v(e),1),!0):q(t,e)}function q(e,n){var r=Ue("selectHelper");if(We.build(),r){var a=p(e,K.visStart)*qe+Pe;if(a>=0&&Le>a){var o=We.rect(0,a,0,a,ge),i=W(e,e),s=W(e,n);if(s>i){if(o.top=i,o.height=s-i,o.left+=2,o.width-=5,t.isFunction(r)){var c=r(e,n);c&&(o.position="absolute",o.zIndex=8,xe=t(c).css(o).appendTo(ge))}else o.isStart=!0,o.isEnd=!0,xe=t(nn({title:"",start:e,end:n,className:["fc-select-helper"],editable:!1},o)),xe.css("opacity",Ue("dragOpacity"));xe&&(M(xe),ge.append(xe),R(xe,o.width,!0),z(xe,o.height,!0))}}}else x(e,n)}function V(){Ge(),xe&&(xe.remove(),xe=null)}function J(e){if(1==e.which&&Ue("selectable")){tn(e);var n;Ae.start(function(t,e){if(V(),t&&t.col==e.col&&!L(t)){var r=H(e),a=H(t);n=[r,f(v(r),Ue("slotMinutes")),a,f(v(a),Ue("slotMinutes"))].sort(P),q(n[0],n[3])}else n=null},e),t(document).one("mouseup",function(t){Ae.stop(),n&&(+n[0]==+n[1]&&X(n[0],!1,t),Ke(n[0],n[3],!1,t))})}}function X(t,e,n){Ze("dayClick",ae[Y(t.getDay())],t,e,n)}function U(t,e){Ae.start(function(t){if(Ge(),t)if(L(t))E(t.row,t.col,t.row,t.col);else{var e=H(t),n=f(v(e),Ue("defaultEventMinutes"));x(e,n)}},e)}function Z(t,e,n){var r=Ae.stop();Ge(),r&&Ze("drop",t,H(r),L(r),e,n)}var K=this;K.renderAgenda=o,K.setWidth=g,K.setHeight=u,K.beforeHide=m,K.afterShow=b,K.defaultEventEnd=B,K.timePosition=W,K.dayOfWeekCol=Y,K.dateCell=k,K.cellDate=H,K.cellIsAllDay=L,K.allDayRow=_,K.allDayBounds=O,K.getHoverListener=function(){return Ae},K.colContentLeft=T,K.colContentRight=F,K.getDaySegmentContainer=function(){return le},K.getSlotSegmentContainer=function(){return De},K.getMinMinute=function(){return Ve},K.getMaxMinute=function(){return Je},K.getBodyContent=function(){return ge},K.getRowCnt=function(){return 1},K.getColCnt=function(){return Le},K.getColWidth=function(){return He},K.getSlotHeight=function(){return ze},K.defaultSelectionEnd=I,K.renderDayOverlay=S,K.renderSelection=j,K.clearSelection=V,K.reportDayClick=X,K.dragStart=U,K.dragStop=Z,he.call(K,n,r,a),ye.call(K),pe.call(K),de.call(K);var te,ee,ne,re,ae,oe,ie,se,ce,le,ue,fe,ve,ge,De,Me,Ce,Se,Ee,xe,Te,Fe,ke,He,Re,ze,Ne,Le,Ye,We,Ae,Oe,_e,Be,Ie,je,qe,Pe,Ve,Je,Xe,Ue=K.opt,Ze=K.trigger,$e=K.clearEvents,Qe=K.renderOverlay,Ge=K.clearOverlays,Ke=K.reportSelection,tn=K.unselect,en=K.daySelectionMousedown,nn=K.slotSegHtml,rn=r.formatDate,an={};$(n.addClass("fc-agenda")),We=new me(function(e,n){function r(t){return Math.max(c,Math.min(l,t))}var a,o,i;ne.each(function(e,r){a=t(r),o=a.offset().left,e&&(i[1]=o),i=[o],n[e]=i}),i[1]=o+a.outerWidth(),Ue("allDaySlot")&&(a=fe,o=a.offset().top,e[0]=[o,o+a.outerHeight()]);for(var s=ge.offset().top,c=ve.offset().top,l=c+ve.outerHeight(),u=0;Ye>u;u++)e.push([r(s+ze*u),r(s+ze*(u+1))])}),Ae=new be(We),Oe=new we(function(t){return oe.eq(t)})}function de(){function n(t,e){S(t);var n,r=t.length,i=[],c=[];for(n=0;r>n;n++)t[n].allDay?i.push(t[n]):c.push(t[n]);m("allDaySlot")&&(j(a(i),e),k()),s(o(c),e)}function r(){E(),R().empty(),L().empty()}function a(e){var n,r,a,o,i=F(T(e,t.map(e,C),y.visStart,y.visEnd)),s=i.length,c=[];for(n=0;s>n;n++)for(r=i[n],a=0;r.length>a;a++)o=r[a],o.row=0,o.level=n,c.push(o);return c}function o(e){var n,r,a,o,s,c,u=P(),d=O(),h=W(),g=f(v(y.visStart),d),p=t.map(e,i),m=[];for(n=0;u>n;n++){for(r=F(T(e,p,g,f(v(g),h-d))),ve(r),a=0;r.length>a;a++)for(o=r[a],s=0;o.length>s;s++)c=o[s],c.col=n,c.level=a,m.push(c);l(g,1,!0)}return m}function i(t){return t.end?v(t.end):f(v(t.start),m("defaultEventMinutes"))}function s(n,r){var a,o,i,s,l,u,f,v,h,g,p,y,D,w,M,C,S,E,x,T,F,k,R=n.length,z="",Y={},W={},O=L(),j=P();for((T=m("isRTL"))?(F=-1,k=j-1):(F=1,k=0),a=0;R>a;a++)o=n[a],i=o.event,s=_(o.start,o.start),l=_(o.start,o.end),u=o.col,f=o.level,v=o.forward||0,h=B(u*F+k),g=I(u*F+k)-h,g=Math.min(g-6,.95*g),p=f?g/(f+v+1):v?2*(g/(v+1)-6):g,y=h+g/(f+v+1)*f*F+(T?g-p:0),o.top=s,o.left=y,o.outerWidth=p,o.outerHeight=l-s,z+=c(i,o);for(O[0].innerHTML=z,D=O.children(),a=0;R>a;a++)o=n[a],i=o.event,w=t(D[a]),M=b("eventRender",i,i,w),M===!1?w.remove():(M&&M!==!0&&(w.remove(),w=t(M).css({position:"absolute",top:o.top,left:o.left}).appendTo(O)),o.element=w,i._id===r?d(i,w,o):w[0]._fci=a,$(i,w));for(H(O,n,d),a=0;R>a;a++)o=n[a],(w=o.element)&&(S=Y[C=o.key=Z(w[0])],o.vsides=S===e?Y[C]=A(w,!0):S,S=W[C],o.hsides=S===e?W[C]=N(w,!0):S,E=w.find("div.fc-event-content"),E.length&&(o.contentTop=E[0].offsetTop));for(a=0;R>a;a++)o=n[a],(w=o.element)&&(w[0].style.width=Math.max(0,o.outerWidth-o.hsides)+"px",x=Math.max(0,o.outerHeight-o.vsides),w[0].style.height=x+"px",i=o.event,o.contentTop!==e&&10>x-o.contentTop&&(w.find("div.fc-event-time").text(oe(i.start,m("timeFormat"))+" - "+i.title),w.find("div.fc-event-title").remove()),b("eventAfterRender",i,i,w))}function c(t,e){var n="<",r=t.url,a=K(t,m),o=a?" style='"+a+"'":"",i=["fc-event","fc-event-skin","fc-event-vert"];return D(t)&&i.push("fc-event-draggable"),e.isStart&&i.push("fc-corner-top"),e.isEnd&&i.push("fc-corner-bottom"),i=i.concat(t.className),t.source&&(i=i.concat(t.source.className||[])),n+=r?"a href='"+U(t.url)+"'":"div",n+=" class='"+i.join(" ")+"'"+" style='position:absolute;z-index:8;top:"+e.top+"px;left:"+e.left+"px;"+a+"'"+">"+"<div class='fc-event-inner fc-event-skin'"+o+">"+"<div class='fc-event-head fc-event-skin'"+o+">"+"<div class='fc-event-time'>"+U(ie(t.start,t.end,m("timeFormat")))+"</div>"+"</div>"+"<div class='fc-event-content'>"+"<div class='fc-event-title'>"+U(t.title)+"</div>"+"</div>"+"<div class='fc-event-bg'></div>"+"</div>",e.isEnd&&w(t)&&(n+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),n+="</"+(r?"a":"div")+">"}function u(t,e,n){D(t)&&h(t,e,n.isStart),n.isEnd&&w(t)&&q(t,e,n),x(t,e)}function d(t,e,n){var r=e.find("div.fc-event-time");D(t)&&g(t,e,r),n.isEnd&&w(t)&&p(t,e,r),x(t,e)}function h(t,e,n){function r(){s||(e.width(a).height("").draggable("option","grid",null),s=!0)}var a,o,i,s=!0,c=m("isRTL")?-1:1,u=Y(),f=V(),d=J(),h=O();e.draggable({zIndex:9,opacity:m("dragOpacity","month"),revertDuration:m("dragRevertDuration"),start:function(h,g){b("eventDragStart",e,t,h,g),G(t,e),a=e.width(),u.start(function(a,u,h,g){re(),a?(o=!1,i=g*c,a.row?n?s&&(e.width(f-10),z(e,d*Math.round((t.end?(t.end-t.start)/Re:m("defaultEventMinutes"))/m("slotMinutes"))),e.draggable("option","grid",[f,1]),s=!1):o=!0:(ne(l(v(t.start),i),l(C(t),i)),r()),o=o||s&&!i):(r(),o=!0),e.draggable("option","revert",o)},h,"drag")},stop:function(n,a){if(u.stop(),re(),b("eventDragStop",e,t,n,a),o)r(),e.css("filter",""),Q(t,e);else{var c=0;s||(c=Math.round((e.offset().top-X().offset().top)/d)*m("slotMinutes")+h-(60*t.start.getHours()+t.start.getMinutes())),te(this,t,i,c,s,n,a)}}})}function g(t,e,n){function r(e){var r,a=f(v(t.start),e);t.end&&(r=f(v(t.end),e)),n.text(ie(a,r,m("timeFormat")))}function a(){u&&(n.css("display",""),e.draggable("option","grid",[p,y]),u=!1)}var o,i,s,c,u=!1,d=m("isRTL")?-1:1,h=Y(),g=P(),p=V(),y=J();e.draggable({zIndex:9,scroll:!1,grid:[p,y],axis:1==g?"y":!1,opacity:m("dragOpacity"),revertDuration:m("dragRevertDuration"),start:function(r,f){b("eventDragStart",e,t,r,f),G(t,e),o=e.position(),s=c=0,h.start(function(r,o,s,c){e.draggable("option","revert",!r),re(),r&&(i=c*d,m("allDaySlot")&&!r.row?(u||(u=!0,n.hide(),e.draggable("option","grid",null)),ne(l(v(t.start),i),l(C(t),i))):a())},r,"drag")},drag:function(t,e){s=Math.round((e.position.top-o.top)/y)*m("slotMinutes"),s!=c&&(u||r(s),c=s)},stop:function(n,c){var l=h.stop();re(),b("eventDragStop",e,t,n,c),l&&(i||s||u)?te(this,t,i,u?0:s,u,n,c):(a(),e.css("filter",""),e.css(o),r(0),Q(t,e))}})}function p(t,e,n){var r,a,o=J();e.resizable({handles:{s:"div.ui-resizable-s"},grid:o,start:function(n,o){r=a=0,G(t,e),e.css("z-index",9),b("eventResizeStart",this,t,n,o)},resize:function(i,s){r=Math.round((Math.max(o,e.height())-s.originalSize.height)/o),r!=a&&(n.text(ie(t.start,r||t.end?f(M(t),m("slotMinutes")*r):null,m("timeFormat"))),a=r)},stop:function(n,a){b("eventResizeStop",this,t,n,a),r?ee(this,t,0,m("slotMinutes")*r,n,a):(e.css("z-index",8),Q(t,e))}})}var y=this;y.renderEvents=n,y.compileDaySegs=a,y.clearEvents=r,y.slotSegHtml=c,y.bindDaySeg=u,ge.call(y);var m=y.opt,b=y.trigger,D=y.isEventDraggable,w=y.isEventResizable,M=y.eventEnd,S=y.reportEvents,E=y.reportEventClear,x=y.eventElementHandlers,k=y.setHeight,R=y.getDaySegmentContainer,L=y.getSlotSegmentContainer,Y=y.getHoverListener,W=y.getMaxMinute,O=y.getMinMinute,_=y.timePosition,B=y.colContentLeft,I=y.colContentRight,j=y.renderDaySegs,q=y.resizableDayEvent,P=y.getColCnt,V=y.getColWidth,J=y.getSlotHeight,X=y.getBodyContent,$=y.reportEventElement,Q=y.showEvents,G=y.hideEvents,te=y.eventDrop,ee=y.eventResize,ne=y.renderDayOverlay,re=y.clearOverlays,ae=y.calendar,oe=ae.formatDate,ie=ae.formatDates}function ve(t){var e,n,r,a,o,i;for(e=t.length-1;e>0;e--)for(a=t[e],n=0;a.length>n;n++)for(o=a[n],r=0;t[e-1].length>r;r++)i=t[e-1][r],x(o,i)&&(i.forward=Math.max(i.forward||0,(o.forward||0)+1))}function he(t,n,r){function a(t,e){var n=R[t];return"object"==typeof n?X(n,e||r):n}function o(t,e){return n.trigger.apply(n,[t,e||S].concat(Array.prototype.slice.call(arguments,2),[S]))}function i(t){return c(t)&&!a("disableDragging")}function s(t){return c(t)&&!a("disableResizing")}function c(t){return ee(t.editable,(t.source||{}).editable,a("editable"))}function u(t){F={};var e,n,r=t.length;for(e=0;r>e;e++)n=t[e],F[n._id]?F[n._id].push(n):F[n._id]=[n]}function d(t){return t.end?v(t.end):E(t)}function h(t,e){k.push(e),H[t._id]?H[t._id].push(e):H[t._id]=[e]}function g(){k=[],H={}}function p(t,n){n.click(function(r){return n.hasClass("ui-draggable-dragging")||n.hasClass("ui-resizable-resizing")?e:o("eventClick",this,t,r)}).hover(function(e){o("eventMouseover",this,t,e)},function(e){o("eventMouseout",this,t,e)})}function y(t,e){b(t,e,"show")}function m(t,e){b(t,e,"hide")}function b(t,e,n){var r,a=H[t._id],o=a.length;for(r=0;o>r;r++)e&&a[r][0]==e[0]||a[r][n]()}function D(t,e,n,r,a,i,s){var c=e.allDay,l=e._id;M(F[l],n,r,a),o("eventDrop",t,e,n,r,a,function(){M(F[l],-n,-r,c),T(l)},i,s),T(l)}function w(t,e,n,r,a,i){var s=e._id;C(F[s],n,r),o("eventResize",t,e,n,r,function(){C(F[s],-n,-r),T(s)},a,i),T(s)}function M(t,n,r,a){r=r||0;for(var o,i=t.length,s=0;i>s;s++)o=t[s],a!==e&&(o.allDay=a),f(l(o.start,n,!0),r),o.end&&(o.end=f(l(o.end,n,!0),r)),x(o,R)}function C(t,e,n){n=n||0;for(var r,a=t.length,o=0;a>o;o++)r=t[o],r.end=f(l(d(r),e,!0),n),x(r,R)}var S=this;S.element=t,S.calendar=n,S.name=r,S.opt=a,S.trigger=o,S.isEventDraggable=i,S.isEventResizable=s,S.reportEvents=u,S.eventEnd=d,S.reportEventElement=h,S.reportEventClear=g,S.eventElementHandlers=p,S.showEvents=y,S.hideEvents=m,S.eventDrop=D,S.eventResize=w;var E=S.defaultEventEnd,x=n.normalizeEvent,T=n.reportEventChange,F={},k=[],H={},R=n.options}function ge(){function n(t,e){var n,r,l,v,m,b,D,w,M=I(),C=k(),S=R(),E=0,x=t.length;for(M[0].innerHTML=a(t),o(t,M.children()),i(t),s(t,M,e),c(t),u(t),f(t),n=d(),r=0;C>r;r++){for(l=0,v=[],m=0;S>m;m++)v[m]=0;for(;x>E&&(b=t[E]).row==r;){for(D=V(v.slice(b.startCol,b.endCol)),b.top=D,D+=b.outerHeight,w=b.startCol;b.endCol>w;w++)v[w]=D;E++}n[r].height(V(v))}y(t,g(n)),p(t,h(n))}function r(e,n,r){var i,s,l,v=t("<div/>"),m=I(),b=e.length;for(v[0].innerHTML=a(e),i=v.children(),m.append(i),o(e,i),c(e),u(e),f(e),y(e,g(d())),p(e,h(d())),i=[],s=0;b>s;s++)l=e[s].element,l&&(e[s].row===n&&l.css("top",r),i.push(l[0]));return t(i)}function a(t){var e,n,r,a,o,i,s,c,l,u,f=D("isRTL"),d=t.length,v=L(),h=v.left,g=v.right,p="";for(e=0;d>e;e++)n=t[e],r=n.event,o=["fc-event","fc-event-skin","fc-event-hori"],M(r)&&o.push("fc-event-draggable"),f?(n.isStart&&o.push("fc-corner-right"),n.isEnd&&o.push("fc-corner-left"),i=A(n.end.getDay()-1),s=A(n.start.getDay()),c=n.isEnd?Y(i):h,l=n.isStart?W(s):g):(n.isStart&&o.push("fc-corner-left"),n.isEnd&&o.push("fc-corner-right"),i=A(n.start.getDay()),s=A(n.end.getDay()-1),c=n.isStart?Y(i):h,l=n.isEnd?W(s):g),o=o.concat(r.className),r.source&&(o=o.concat(r.source.className||[])),a=r.url,u=K(r,D),p+=a?"<a href='"+U(a)+"'":"<div",p+=" class='"+o.join(" ")+"'"+" style='position:absolute;z-index:8;left:"+c+"px;"+u+"'"+">"+"<div"+" class='fc-event-inner fc-event-skin'"+(u?" style='"+u+"'":"")+">",!r.allDay&&n.isStart&&(p+="<span class='fc-event-time'>"+U(q(r.start,r.end,D("timeFormat")))+"</span>"),p+="<span class='fc-event-title'>"+U(r.title)+"</span>"+"</div>",n.isEnd&&C(r)&&(p+="<div class='ui-resizable-handle ui-resizable-"+(f?"w":"e")+"'>"+"&nbsp;&nbsp;&nbsp;"+"</div>"),p+="</"+(a?"a":"div")+">",n.left=c,n.outerWidth=l-c,n.startCol=i,n.endCol=s+1;return p}function o(e,n){var r,a,o,i,s,c=e.length;for(r=0;c>r;r++)a=e[r],o=a.event,i=t(n[r]),s=w("eventRender",o,o,i),s===!1?i.remove():(s&&s!==!0&&(s=t(s).css({position:"absolute",left:a.left}),i.replaceWith(s),i=s),a.element=i)}function i(t){var e,n,r,a=t.length;for(e=0;a>e;e++)n=t[e],r=n.element,r&&E(n.event,r)}function s(t,e,n){var r,a,o,i,s=t.length;for(r=0;s>r;r++)a=t[r],o=a.element,o&&(i=a.event,i._id===n?j(i,o,a):o[0]._fci=r);H(e,t,j)}function c(t){var n,r,a,o,i,s=t.length,c={};for(n=0;s>n;n++)r=t[n],a=r.element,a&&(o=r.key=Z(a[0]),i=c[o],i===e&&(i=c[o]=N(a,!0)),r.hsides=i)}function u(t){var e,n,r,a=t.length;for(e=0;a>e;e++)n=t[e],r=n.element,r&&(r[0].style.width=Math.max(0,n.outerWidth-n.hsides)+"px")}function f(t){var n,r,a,o,i,s=t.length,c={};for(n=0;s>n;n++)r=t[n],a=r.element,a&&(o=r.key,i=c[o],i===e&&(i=c[o]=_(a)),r.outerHeight=a[0].offsetHeight+i)}function d(){var t,e=k(),n=[];for(t=0;e>t;t++)n[t]=z(t).find("td:first div.fc-day-content > div");return n}function h(t){var e,n=t.length,r=[];for(e=0;n>e;e++)r[e]=t[e][0].offsetTop;return r}function g(){return null}function p(t,e){var n,r,a,o,i=t.length;for(n=0;i>n;n++)r=t[n],a=r.element,a&&(a[0].style.top=e[r.row]+(r.top||0)+"px",o=r.event,w("eventAfterRender",o,o,a))}function y(t,e){if(e){var n,r,a,o=t.length;for(n=0;o>n;n++)r=t[n],r.left=e[r.row]+(r.left||0),a=r.element,a&&(a[0].style.left=r.left+"px")}}function m(e,n,a){var o=D("isRTL"),i=o?"w":"e",s=n.find("div.ui-resizable-"+i),c=!1;$(n),n.mousedown(function(t){t.preventDefault()}).click(function(t){c&&(t.preventDefault(),t.stopImmediatePropagation())}),s.mousedown(function(s){function u(n){w("eventResizeStop",this,e,n),t("body").css("cursor",""),h.stop(),J(),f&&F(this,e,f,0,n),setTimeout(function(){c=!1},0)}if(1==s.which){c=!0;var f,d,h=b.getHoverListener(),g=k(),p=R(),y=o?-1:1,m=o?p-1:0,D=n.css("top"),M=t.extend({},e),C=O(e.start);X(),t("body").css("cursor",i+"-resize").one("mouseup",u),w("eventResizeStart",this,e,s),h.start(function(t,n){if(t){var s=Math.max(C.row,t.row),c=t.col;1==g&&(s=0),s==C.row&&(c=o?Math.min(C.col,c):Math.max(C.col,c)),f=7*s+c*y+m-(7*n.row+n.col*y+m);var u=l(S(e),f,!0);if(f){M.end=u;var h=d;d=r(B([M]),a.row,D),d.find("*").css("cursor",i+"-resize"),h&&h.remove(),T(e)}else d&&(x(e),d.remove(),d=null);J(),P(e.start,l(v(u),1))}},s)}})}var b=this;b.renderDaySegs=n,b.resizableDayEvent=m;var D=b.opt,w=b.trigger,M=b.isEventDraggable,C=b.isEventResizable,S=b.eventEnd,E=b.reportEventElement,x=b.showEvents,T=b.hideEvents,F=b.eventResize,k=b.getRowCnt,R=b.getColCnt;b.getColWidth;var z=b.allDayRow,L=b.allDayBounds,Y=b.colContentLeft,W=b.colContentRight,A=b.dayOfWeekCol,O=b.dateCell,B=b.compileDaySegs,I=b.getDaySegmentContainer,j=b.bindDaySeg,q=b.calendar.formatDates,P=b.renderDayOverlay,J=b.clearOverlays,X=b.clearSelection;if(b.getRowLefts)var g=b.getRowLefts}function pe(){function e(t,e,a){n(),e||(e=c(t,a)),l(t,e,a),r(t,e,a)}function n(t){f&&(f=!1,u(),s("unselect",null,t))}function r(t,e,n,r){f=!0,s("select",null,t,e,n,r)}function a(e){var a=o.cellDate,s=o.cellIsAllDay,c=o.getHoverListener(),f=o.reportDayClick;if(1==e.which&&i("selectable")){n(e);var d;c.start(function(t,e){u(),t&&s(t)?(d=[a(e),a(t)].sort(P),l(d[0],d[1],!0)):d=null},e),t(document).one("mouseup",function(t){c.stop(),d&&(+d[0]==+d[1]&&f(d[0],!0,t),r(d[0],d[1],!0,t))})}}var o=this;o.select=e,o.unselect=n,o.reportSelection=r,o.daySelectionMousedown=a;var i=o.opt,s=o.trigger,c=o.defaultSelectionEnd,l=o.renderSelection,u=o.clearSelection,f=!1;i("selectable")&&i("unselectAuto")&&t(document).mousedown(function(e){var r=i("unselectCancel");r&&t(e.target).parents(r).length||n(e)})}function ye(){function e(e,n){var r=o.shift();return r||(r=t("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),r[0].parentNode!=n[0]&&r.appendTo(n),a.push(r.css(e).show()),r}function n(){for(var t;t=a.shift();)o.push(t.hide().unbind())}var r=this;r.renderOverlay=e,r.clearOverlays=n;var a=[],o=[]}function me(t,e){var n,r,a=this;a.build=function(){n=[],r=[],t(n,r)},e&&(a.gridToView=e),a.cell=function(t,e){var o,i=n.length,s=r.length,c=-1,l=-1;for(o=0;i>o;o++)if(e>=n[o][0]&&n[o][1]>e){c=o;break}for(o=0;s>o;o++)if(t>=r[o][0]&&r[o][1]>t){l=o;break}if(c>=0&&l>=0&&a.gridToView){var u=a.gridToView(l,c);l=u[0],c=u[1]}return c>=0&&l>=0?{row:c,col:l}:null},a.rect=function(t,e,a,o,i){var s=i.offset();return{top:n[t][0]-s.top,left:r[e][0]-s.left,width:r[o][1]-r[e][0],height:n[a][1]-n[t][0]}}}function be(e){function n(t){De(t);var n=e.cell(t.pageX,t.pageY);(!n!=!i||n&&(n.row!=i.row||n.col!=i.col))&&(n?(o||(o=n),a(n,o,n.row-o.row,n.col-o.col)):a(n,o),i=n)}var r,a,o,i,s=this;s.start=function(s,c,l){a=s,o=i=null,e.build(),n(c),r=l||"mousemove",t(document).bind(r,n)},s.stop=function(){return t(document).unbind(r,n),i}}function De(t){t.pageX===e&&(t.pageX=t.originalEvent.pageX,t.pageY=t.originalEvent.pageY)}function we(t){function n(e){return a[e]=a[e]||t(e)}var r=this,a={},o={},i={};r.left=function(t){return o[t]=o[t]===e?n(t).position().left:o[t]},r.right=function(t){return i[t]=i[t]===e?r.left(t)+n(t).width():i[t]},r.clear=function(){a={},o={},i={}}}var Me={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{year:"yyyy",month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{year:"MMMM",month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesShortest:["S","M","T","W","T","F","S"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",year:"year",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*"},Ce={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Se=t.fullCalendar={version:"1.5.4-final"},Ee=Se.views={};t.fn.fullCalendar=function(n){if("string"==typeof n){var a,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var r=t.data(this,"fullCalendar");if(r&&t.isFunction(r[n])){var i=r[n].apply(r,o);a===e&&(a=i),"destroy"==n&&t.removeData(this,"fullCalendar")}}),a!==e?a:this}var i=n.eventSources||[];return delete n.eventSources,n.events&&(i.push(n.events),delete n.events),n=t.extend(!0,{},Me,n.isRTL||n.isRTL===e&&Me.isRTL?Ce:{},n),this.each(function(e,a){var o=t(a),s=new r(o,n,i);o.data("fullCalendar",s),s.render()}),this},Se.sourceNormalizers=[],Se.sourceFetchers=[];var xe={dataType:"json",cache:!1},Te=1;Se.addDays=l,Se.cloneDate=v,Se.parseDate=m,Se.parseISO8601=b,Se.parseTime=D,Se.formatDate=w,Se.formatDates=M;var Fe=["sun","mon","tue","wed","thu","fri","sat"],ke=864e5,He=36e5,Re=6e4,ze={s:function(t){return t.getSeconds()},ss:function(t){return J(t.getSeconds())},m:function(t){return t.getMinutes()},mm:function(t){return J(t.getMinutes())},h:function(t){return t.getHours()%12||12},hh:function(t){return J(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return J(t.getHours())},d:function(t){return t.getDate()},dd:function(t){return J(t.getDate())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},e:function(t,e){return e.dayNamesShortest[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return J(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},yy:function(t){return(t.getFullYear()+"").substring(2)},yyyy:function(t){return t.getFullYear()},t:function(t){return 12>t.getHours()?"a":"p"},tt:function(t){return 12>t.getHours()?"am":"pm"},T:function(t){return 12>t.getHours()?"A":"P"},TT:function(t){return 12>t.getHours()?"AM":"PM"},u:function(t){return w(t,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(t){var e=t.getDate();return e>10&&20>e?"th":["st","nd","rd"][e%10-1]||"th"}};Se.applyAll=te,Ee.month=ne,Ee.year=re,Ee.basicWeek=oe,Ee.basicDay=ie,n({weekMode:"fixed"}),Ee.agendaWeek=le,Ee.agendaDay=ue,n({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24})})(jQuery);